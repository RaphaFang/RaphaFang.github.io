<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Verification</title>
  </head>
  <body>
    <form id="dataForm">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" />
      <span id="emailError" style="color: red"></span><br />

      <label for="password">Password:</label>
      <input
        id="password"
        name="password"
        type="password"
        pattern="^[A-Za-z0-9@#$%]{4,8}$"
        title="Password must be 4-8 characters long and include only alphabets, numbers, and @#$%"
      />

      <span id="passwordError" style="color: red"></span><br />

      <label for="tel">tel:</label>
      <input
        type="tel"
        id="tel"
        required
        maxlength="10"
        title="Phone number format: 123-456-7890"
      />

      <button type="submit">Submit</button>
    </form>

    <script>
      document
        .getElementById("dataForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          let email = document.getElementById("email").value;
          let password = document.getElementById("password").value;
          let emailError = document.getElementById("emailError");
          let passwordError = document.getElementById("passwordError");

          emailError.textContent = "";
          passwordError.textContent = "";

          let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          let passwordRegex = /^[A-Za-z0-9@#$%]{4,8}$/;

          if (!emailRegex.test(email)) {
            emailError.textContent = "Invalid email format";
          }

          if (!passwordRegex.test(password)) {
            passwordError.textContent =
              "Password must be 4-8 characters long and include only alphabets, numbers, and @#$%";
          }

          if (emailRegex.test(email) && passwordRegex.test(password)) {
            this.submit();
          }
        });
      // const telInput = document.getElementById("tel");
      // const telError = document.getElementById("telError");

      // telInput.addEventListener("input", function (event) {
      //   let value = telInput.value.replace(/\D/g, "");
      //   let formattedValue = "";

      //   if (value.length > 0) {
      //     formattedValue = value.substring(0, 3);
      //   }
      //   if (value.length > 3) {
      //     formattedValue += "-" + value.substring(3, 6);
      //   }
      //   if (value.length > 6) {
      //     formattedValue += "-" + value.substring(6, 12);
      //   } // value.substring(6, 12) automatically lock the max length you could input

      //   telInput.value = formattedValue;
      // });
    </script>
  </body>
</html>
